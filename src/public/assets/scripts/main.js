biigle.geo={},biigle.$viewModel("geo-image-location-panel",function(e){new Vue({el:e,data:{images:[biigle.geo.image]},components:{imageMap:biigle.geo.components.imageMap}})}),biigle.$viewModel("geo-map",function(e){new Vue({el:e,data:{images:biigle.geo.images},components:{imageMap:biigle.geo.components.imageMap}})}),biigle.geo.components={},biigle.geo.components.imageMap={template:'<div class="image-map"></div>',props:{images:{type:Array,required:!0},interactive:{type:Boolean,default:!0},zoom:{type:Number},cluster:{type:Boolean,default:!1}},mounted:function(){for(var e=[],o=this.images.length-1;o>=0;o--)e.push(new ol.Feature({geometry:new ol.geom.Point(ol.proj.fromLonLat([this.images[o].lng,this.images[o].lat]))}));var t=new ol.source.Vector({features:e}),i=t.getExtent();this.cluster&&(t=new ol.source.Cluster({source:t,distance:5}));var l=new ol.layer.Tile({source:new ol.source.OSM}),a=new ol.layer.Vector({source:t,style:new ol.style.Style({image:new ol.style.Circle({radius:6,fill:new ol.style.Fill({color:[0,153,255,1]}),stroke:new ol.style.Stroke({color:"white",width:2})})}),updateWhileAnimating:!0,updateWhileInteracting:!0}),n=new ol.Map({target:this.$el,layers:[l,a],view:new ol.View,interactions:ol.interaction.defaults({altShiftDragRotate:!1,doubleClickZoom:this.interactive,keyboard:this.interactive,mouseWheelZoom:this.interactive,shiftDragZoom:this.interactive,dragPan:this.interactive,pinchRotate:!1,pinchZoom:this.interactive}),controls:ol.control.defaults({zoom:this.interactive})});n.getView().fit(i,n.getSize()),this.zoom&&n.getView().setZoom(this.zoom),this.interactive&&(n.addControl(new ol.control.ZoomToExtent({extent:i,label:"î‚—",tipLabel:"Reset Zoom"})),n.addControl(new ol.control.OverviewMap({collapsed:!1,collapsible:!1,layers:[l],view:new ol.View({zoom:1,maxZoom:1})})))}};