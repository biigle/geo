angular.module("biigle.volumes").controller("GeoFilterController",["$scope","filter","VOLUME_ID","$q","images",function(e,t,l,r,o){"use strict";var a="biigle.geo.imageSequence."+l,n=[],i=function(){var e=JSON.parse(localStorage.getItem(a))||[];angular.equals(n,e)||(n.length=0,Array.prototype.push.apply(n,e),t.refresh(),o.updateFiltering())};t.add({name:"geo selection",helpText:"All images that were selected on the world map.",helpTextNegate:"All images that were not selected on the world map.",template:"geoFilterRule.html",refreshSequence:!0,getSequence:function(){var e=r.defer();return n.$promise=e.promise,e.resolve(n),n}}),window.addEventListener("storage",function(){e.$apply(i)}),i()}]);